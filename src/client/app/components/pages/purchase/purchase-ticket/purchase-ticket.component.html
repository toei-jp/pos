<div class="py-3 px-2 d-block d-md-flex">
    <div class="main">
        <h2 class="bg-secondary text-white p-3 mb-3">券種選択</h2>

        <p class="mb-3">券種を選択してください。</p>

        <div class="mb-4">
            <div class="bg-white p-3">
                <p class="mb-2">ムビチケを使う</p>
                <button type="button" (click)="openMovieTicket()" class="btn btn-outline-primary btn-block py-2">
                    <img src="/assets/images/mvtk.svg" height="24">
                </button>
            </div>
        </div>

        <div class="ticket mb-4">
            <div *ngFor="let reservation of (purchase | async).reservations" class="bg-white p-3 d-block d-md-flex justify-content-between align-items-center mb-2">
                <div class="seat text-center text-md-left mb-3 mb-md-0">
                    <span class="mr-3">座席</span>{{ reservation.seat.seatNumber }}</div>
                <button *ngIf="reservation.ticket === undefined" type="button" (click)="openTicketList(reservation)"
                    class="btn btn-primary btn-block py-2">券種を選択してください</button>
                <button *ngIf="reservation.ticket !== undefined" type="button" (click)="openTicketList(reservation)"
                    class="btn btn-outline-primary btn-block py-2">{{ reservation.ticket.ticketOffer.name.ja }} {{
                    reservation.getTicketPrice().total | currency : 'JPY' }}</button>
            </div>
        </div>

        <div class="w-75 mx-auto">
            <button type="button" class="btn btn-primary btn-block py-2 mb-2" [disabled]="isLoading | async"
                (click)="onSubmit()">次へ</button>
            <button type="button" class="btn btn-outline-primary btn-block py-2" routerLink="/purchase/seat">座席選択へ戻る</button>
        </div>
    </div>
    <app-purchase-info class="sub d-none d-md-block" [purchase]="purchase | async"></app-purchase-info>

</div>